##############################################################################
# nslcd configuration file
##############################################################################
# NOTE: This file is automatically generated by puppet
# Changes to this file will be overwritten periodically by puppet!
##############################################################################


# This is the configuration file for the LDAP nameservice
# switch library's nslcd daemon. It configures the mapping
# between NSS names (see /etc/nsswitch.conf) and LDAP
# information in the directory.
# See the manual page nslcd.conf(5) for more information.

map    passwd homeDirectory    unixHomeDirectory
map    passwd gecos            cn
#uid nslcd
#gid ldap
uri ldaps://ldap.local
base dc=ldap.local
ssl start_tls
ssl on
tls_checkpeer yes
tls_cacertfile /etc/ldapca.pem
binddn	cn=ldap,cn=Users,dc=ldap.local
bindpw	d50_*spg
scope sub
timelimit 120
bind_timelimit 5
filter passwd (objectClass=User)
base passwd OU=Users,OU=Oracle,OU=NYSE-USERS,DC=ldap.local
base shadow OU=Users,OU=Oracle,OU=NYSE-USERS,dc=ldap.local
base group  OU=Groups,OU=Oracle,OU=NYSE-USERS,dc=ldap.local

base passwd OU=Users,OU=Applications,OU=NYSE-USERS,DC=ldap.local
base shadow OU=Users,OU=Applications,OU=NYSE-USERS,dc=ldap.local
base group  OU=Groups,OU=Applications,OU=NYSE-USERS,dc=ldap.local

base passwd OU=Users,OU=Unix,OU=NYSE-USERS,DC=ldap.local
base shadow OU=Users,OU=Unix,OU=NYSE-USERS,dc=ldap.local
base group  OU=Groups,OU=Unix,OU=NYSE-USERS,dc=ldap.local

base passwd OU=Users,OU=1Monitorizacion,OU=NYSE-USERS,DC=ldap.local
base shadow OU=Users,OU=1Monitorizacion,OU=NYSE-USERS,dc=ldap.local
base group  OU=Groups,OU=1Monitorizacion,OU=NYSE-USERS,dc=ldap.local

base passwd OU=Users,OU=NetworkSecurity,OU=NYSE-USERS,DC=ldap.local
base shadow OU=Users,OU=NetworkSecurity,OU=NYSE-USERS,dc=ldap.local
base group  OU=Groups,OU=NetworkSecurity,OU=NYSE-USERS,dc=ldap.local

filter passwd (&(objectClass=user)(!(objectClass=computer))(uidNumber=*)(unixHomeDirectory=*))
map    passwd uid              sAMAccountName
map    passwd homeDirectory    unixHomeDirectory
map    passwd gecos            displayName
filter shadow (&(objectClass=user)(!(objectClass=computer))(uidNumber=*)(unixHomeDirectory=*))
map    shadow uid              sAMAccountName
map    shadow shadowLastChange pwdLastSet
filter group  (objectClass=group)
map    group  uniqueMember     member

